# -*- coding: utf-8 -*-


ScreenManager:
    MenuScreen:
    PainterScreen:


<MenuScreen>:
    name: "main"
    md_bg_color: app.theme_cls.surfaceColor
    MDBoxLayout:
        MDButton:
            style: "elevated"
            pos_hint: {'center_x':0.5,'center_y':0.5}
            on_release: app.root.current = 'select'
            MDButtonText:
                text: "Go select"
        MDButton:
            style: "elevated"
            pos_hint: {'center_x':0.5,'center_y':0.5}
            on_release: app.root.current = 'painter'
            MDButtonText:
                text: "Go painter"
        MDButton:
            style: "elevated"
            pos_hint: {'center_x':0.5,'center_y':0.5}
            on_release: app.root.current = 'gallery'
            MDButtonText:
                text: "Go gallery"


<SelectScreen>:
    name: "select"
    md_bg_color: app.theme_cls.surfaceColor
    MDGridLayout:
        cols: 3
        rows: 5
        id: select_page
    MDBoxLayout:
        orientation: 'horizontal'
        Button:
            text: 'back'
            on_press: app.root.current = 'main'
            size_hint: 0.1, 0.1


<PainterScreen>:
    name: "painter"
    md_bg_color: app.theme_cls.surfaceColor
    MDBoxLayout:
        orientation: 'horizontal'
        MDBoxLayout:
            orientation: 'horizontal'
            on_touch_down: root.on_image1_down(args[1])
            on_touch_move: root.on_image1_move(args[1])
            on_touch_up: root.on_image1_up(args[1])
            id: main_canvas
            cv_color: (1, 1, 1, 1)
            canvas:
                Color:
                    rgba: self.cv_color
                Rectangle:
                    pos: self.pos
                    size: self.size
        MDGridLayout:
            size_hint: 0.4, 1
            cols: 2
            rows: 10
            Button:
                background_color: 0, 0, 0, 1
                background_normal: ''
                id: clr_btn1
                on_press: root.color_change_1()
            Button:
                background_color: 0, 0, 0, 1
                background_normal: ''
                id: clr_btn2
                on_press: root.color_change_2()
            Button:
                background_color: 0, 0, 0, 1
                background_normal: ''
                id: clr_btn3
                on_press: root.color_change_3()
            Button:
                background_color: 0, 0, 0, 1
                background_normal: ''
                id: clr_btn4
                on_press: root.color_change_4()
            Button:
                background_color: 0, 0, 0, 1
                background_normal: ''
                id: clr_btn5
                on_press: root.color_change_5()
            Button:
                background_color: 0, 0, 0, 1
                background_normal: ''
                id: clr_btn6
                on_press: root.color_change_6()
            Button:
                background_color: 0, 0, 0, 1
                background_normal: ''
                id: clr_btn7
                on_press: root.color_change_7()
            Button:
                background_color: 0, 0, 0, 1
                background_normal: ''
                id: clr_btn8
                on_press: root.color_change_8()
            Button:
                background_color: 0, 0, 0, 1
                background_normal: ''
                id: clr_btn9
                on_press: root.color_change_9()
            Button:
                background_color: 0, 0, 0, 1
                background_normal: ''
                id: clr_btn10
                on_press: root.color_change_10()
            Button:
                background_color: 0, 0, 0, 1
                background_normal: ''
                id: clr_btn11
                on_press: root.color_change_11()
            Button: 
                background_color: 0, 0, 0, 1
                background_normal: ''
                id: clr_btn12
                on_press: root.color_change_12()
            Button:
                background_color: 0, 0, 0, 1
                background_normal: ''
                id: clr_btn13
                on_press: root.color_change_13()
            Button:
                background_color: 0, 0, 0, 1
                background_normal: ''
                id: clr_btn14
                on_press: root.color_change_14()
            Button:
                background_color: 0, 0, 0, 1
                background_normal: ''
                id: clr_btn15
                on_press: root.color_change_15()
            Button:
                background_color: 0, 0, 0, 1
                background_normal: ''
                id: clr_btn16
                on_press: root.color_change_16()
            Button:
                background_color: 0, 0, 0, 1
                background_normal: ''
                id: clr_btn17
                on_press: root.color_change_17()
            Button:
                background_color: 0, 0, 0, 1
                background_normal: ''
                id: clr_btn18
                on_press: root.color_change_18()
            Button:
                background_color: 0, 0, 0, 1
                background_normal: ''
                id: clr_btn19
                on_press: root.color_change_19()
            Button:
                text:'undo'
                on_release: root.canvas_undo()


<GalleryScreen>:
    name: "gallery"
    md_bg_color: app.theme_cls.surfaceColor

    MDBoxLayout:
        orientation: 'vertical'
        MDBoxLayout:
            orientation: 'horizontal'
            id: gallery_page
        MDBoxLayout:
            size_hint_y: 0.3 

            orientation: 'horizontal'
            Button:
                text: '<'
                on_release: root.page_prev()
            Button:
                text: 'Back'
                on_release: app.root.current = 'main'
            Button:
                text: '>'
                on_release: 
                    root.page_next()
            Button:
                text: 'refresh'
                on_release: root.rebuild_gallery()
